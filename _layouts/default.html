{% assign t = site.data.translations[page.lang] %}

<!DOCTYPE html>
<html lang="{{ page.lang }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
    <link rel="stylesheet" href="{{ "/assets/main.css" | prepend: site.baseurl }}">
  </head>

  <body>
    <header class="wrapper">
      <nav>
        <h1 class="logo mrgb0"><span class="thin">Think</span>Space</h1>
        <ul class="list-inline">
          <li><a href="#" class="active">{{ t.menu.concept }}</a></li>
          <li><a href="#">{{ t.menu.packages }}</a></li>
          <li><a href="#">{{ t.menu.members }}</a></li>
          <li><a href="#">{{ t.menu.contact }}</a></li>

          {% for page in site.pages %}
            {% if page.lang %}
              <li class="locale_{{ page.lang }}"><a href="{{ page.url | prepend: site.baseurl }}">{{ page.lang }}</a></li>
            {% endif %}
          {% endfor %}

        </ul>
      </nav>
    </header>

    {{ content }}

    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script type="text/javascript">
      var APP = {
        contact_email: 'germain.hugon@liip.ch'
      };

      var marker;

      function initMap() {
        var myLatLng = {lat: 46.519276, lng: 6.638259};

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 16,
          scrollwheel:  false,
          disableDefaultUI: true,
          center: myLatLng
        });

        marker = new google.maps.Marker({
          map: map,
          draggable: false,
          animation: google.maps.Animation.DROP,
          position: myLatLng
        });

        marker.addListener('click', toggleBounce);
      }

      function toggleBounce() {
        if (marker.getAnimation() !== null) {
          marker.setAnimation(null);
        } else {
          marker.setAnimation(google.maps.Animation.BOUNCE);
        }
      }

      function outputUpdate(vol) {
      	document.querySelector('#label_people_number').value = vol;
      }

      google.maps.event.addDomListener(window, 'load', initMap);
    </script>
    <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="{{ "/assets/js/contact.js" | prepend: site.baseurl }}"></script>
  </body>
</html>
